getgenv().TriggerBotEnabled = true
getgenv().TriggerKey = Enum.KeyCode.C
getgenv().FOVRadius = 30

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UIS = game:GetService("UserInputService")
local StarterGui = game:GetService("StarterGui")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local Camera = workspace.CurrentCamera

local validParts = {
    ["Head"] = true,
    ["Torso"] = true,
    ["UpperTorso"] = true,
    ["LowerTorso"] = true,
    ["HumanoidRootPart"] = true
}

local FOV = Drawing.new("Circle")
FOV.Visible = true
FOV.Radius = getgenv().FOVRadius
FOV.Color = Color3.fromRGB(255, 0, 0)
FOV.Thickness = 1.5
FOV.Filled = false
FOV.Transparency = 0.6

StarterGui:SetCore("SendNotification", {
    Title = "Trigger Bot",
    Text = "Loaded successfully!",
    Duration = 3
})

RunService.RenderStepped:Connect(function()
    FOV.Position = Vector2.new(Mouse.X, Mouse.Y)
    FOV.Visible = getgenv().TriggerBotEnabled
end)

UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == getgenv().TriggerKey then
        getgenv().TriggerBotEnabled = not getgenv().TriggerBotEnabled
        StarterGui:SetCore("SendNotification", {
            Title = "Trigger Bot",
            Text = getgenv().TriggerBotEnabled and "Enabled" or "Disabled",
            Duration = 2
        })
    end
end)

RunService.RenderStepped:Connect(function()
    if getgenv().TriggerBotEnabled and Mouse.Target then
        local part = Mouse.Target
        local model = part:FindFirstAncestorOfClass("Model")
        local player = Players:GetPlayerFromCharacter(model)

        if player and player ~= LocalPlayer and validParts[part.Name] then
            local screenPos, onScreen = Camera:WorldToViewportPoint(part.Position)
            if onScreen and (Vector2.new(Mouse.X, Mouse.Y) - Vector2.new(screenPos.X, screenPos.Y)).Magnitude <= getgenv().FOVRadius then
                task.delay(0.001, function()
                    mouse1press()
                    task.wait()
                    mouse1release()
                end)
            end
        end
    end
end)
